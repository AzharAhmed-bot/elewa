<ng-container *ngIf="pageView | async as pageMode" class="micro-app-content">
  <ng-container *ngIf="pageMode === pageViewMode.AssessmentMode">
    <!-- Header with details about assessment -->
    <app-assessment-header></app-assessment-header>

    <!-- Banner with grade details -->
    <app-assessment-result-banner></app-assessment-result-banner>

    <!--Assessment details  -->
    <div class="assessment-mode">
      <div class="progress-tracker">
        <div class="progress-bar" [ngStyle]="{'width': progressPercentage + '%', 'background-image': getProgressColor(progressPercentage)}"></div>
        <div class="progress-text">
          {{progressPercentage}}% Complete
        </div>
      </div>
    
      <app-assessment-card 
        [assessmentQuestions]="assessmentQuestions" 
        [assessmentForm]="assessmentForm" 
        [assessmentFormArray]="assessmentFormArray"
        [progressCallback]="getProgress.bind(this)"
        >
      </app-assessment-card> 
    </div>
  </ng-container>
  <div class="stepper-buttons">
    <button class="previous" mat-raised-button (click)="prevStep()" [disabled]="currentStep === 0" [hidden]="currentStep === totalSteps - 1">{{ "ASSESSMENT-PAGE.BUTTONS-TEXT.PREVIOUS" | transloco }}</button>
    <button class="btn-btns" mat-raised-button (click)="nextStep()" [disabled]="currentStep === totalSteps - 1" [hidden]="currentStep === totalSteps - 1">{{ "ASSESSMENT-PAGE.BUTTONS-TEXT.NEXT-BUTTON" | transloco }}</button>
  </div>
</ng-container>
  <!-- submit button -->
  <div class="submit-btn">
    <button class="btn-btns" mat-raised-button  [hidden]="currentStep < totalSteps - 1">{{ "ASSESSMENT-PAGE.BUTTONS-TEXT.SUBMIT-TEXT" | transloco }}</button>
  </div>