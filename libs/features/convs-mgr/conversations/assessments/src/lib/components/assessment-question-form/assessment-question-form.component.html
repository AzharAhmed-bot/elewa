<div class="question-form">
	<div [ngClass]="activeCard === index ? ['card' , 'active-card'] : ['card']"
		(click)="activeQuestionChanged.emit(index)">

		<i style="width: 100%; margin: auto; color: #B2B2B2;" class="fas fa-grip-horizontal"></i>

		<div class="card-content">
			<div *ngIf="assessmentFormGroup">
				<div [formGroup]="assessmentFormGroup">
					<div formArrayName="questions">
						<div [formGroup]="questionFormGroup">

							<div fxLayout="row" fxLayoutAlign="space-between center">
								<div class="question-type-conf">
									<div fxLayout="column" fxLayoutAlign="start start">
										<div appearance="fill" fxFlex="60" *ngIf="mediaSrc" class="media-display">
											<img *ngIf="isImage" [src]="mediaSrc" alt="Uploaded Image" class="uploaded-media">
  										<video *ngIf="!isImage" #videoPlayer controls [src]="mediaSrc" class="uploaded-media"></video>
										</div>
										<mat-form-field appearance="fill" fxFlex="60">
											<input type="text" matInput formControlName="message" placeholder="Type your question">
										</mat-form-field>
									</div>

									<div fxLayout="row" fxLayoutAlign="start start" fxLayoutGap="10px">
										<button mat-flat-button>
											<i class="fa-solid fa-a"></i>
										</button>
										<button mat-flat-button (click)="openUploadModal('image')">
											<i class="fa-regular fa-image"></i>
										</button>
										<button mat-flat-button (click)="openUploadModal('video')">
											<i class="fa-solid fa-video"></i>
										</button>
									</div>
								</div>
					
								<div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="10px">
									<button mat-flat-button (click)="duplicateQuestion()">
										<img src="assets/icons/duplicate-item.svg" alt="">
									</button>
									<button mat-flat-button (click)="deleteQuestion()">
										<img src="assets/icons/delete-item.svg" alt="">
									</button>
								</div>
							</div>

							<app-assessment-answers [questionId]="questionFormGroup.value.id" [questionFormGroup]="questionFormGroup"
								[assessmentMode]="assessmentMode"></app-assessment-answers>

							<div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="1%">
								<mat-form-field appearance="fill">
									<mat-label> Marks </mat-label>
									<input type="number" matInput formControlName="marks">
								</mat-form-field>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<button matTooltip="Add Question" mat-mini-fab [disabled]="!isLastQuestion" [ngClass]="isLastQuestion ? 'btn-add' : 'btn-add-hidden'"
		(click)="addNewQuestion.emit()">
		<i class="fas fa-plus"></i>
	</button>
</div>